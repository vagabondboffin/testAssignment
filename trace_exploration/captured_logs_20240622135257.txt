[2024-06-22T10:22:31.343360][CAT-API][OTHER] otel_collector-1     | * collected metric http_server_duration label:{name:"http_method" value:"GET"} label:{name:"http_route" value:"/swagger-ui*/*swagger-initializer.js"} label:{name:"http_scheme" value:"http"} label:{name:"http_status_code" value:"200"} label:{name:"job" value:"cat-api"} label:{name:"net_host_name" value:"localhost"} label:{name:"net_host_port" value:"8080"} label:{name:"net_protocol_name" value:"http"} label:{name:"net_protocol_version" value:"1.1"} histogram:{sample_count:1 sample_sum:22.719842 bucket:{cumulative_count:0 upper_bound:0} bucket:{cumulative_count:0 upper_bound:5} bucket:{cumulative_count:0 upper_bound:10} bucket:{cumulative_count:1 upper_bound:25} bucket:{cumulative_count:1 upper_bound:50} bucket:{cumulative_count:1 upper_bound:75} bucket:{cumulative_count:1 upper_bound:100} bucket:{cumulative_count:1 upper_bound:250} bucket:{cumulative_count:1 upper_bound:500} bucket:{cumulative_count:1 upper_bound:750} bucket:{cumulative_count:1 upper_bound:1000} bucket:{cumulative_count:1 upper_bound:2500} bucket:{cumulative_count:1 upper_bound:5000} bucket:{cumulative_count:1 upper_bound:7500} bucket:{cumulative_count:1 upper_bound:10000}} has help "The duration of the inbound HTTP request" but should have "measures the duration of the inbound HTTP request"
[2024-06-22T10:22:31.344028][CAT-API][OTHER] otel_collector-1     | * collected metric http_server_duration label:{name:"http_method" value:"POST"} label:{name:"http_route" value:"/api/cat"} label:{name:"http_scheme" value:"http"} label:{name:"http_status_code" value:"200"} label:{name:"job" value:"cat-api"} label:{name:"net_host_name" value:"localhost"} label:{name:"net_host_port" value:"8080"} label:{name:"net_protocol_name" value:"http"} label:{name:"net_protocol_version" value:"1.1"} histogram:{sample_count:2 sample_sum:55.817797 bucket:{cumulative_count:0 upper_bound:0} bucket:{cumulative_count:0 upper_bound:5} bucket:{cumulative_count:0 upper_bound:10} bucket:{cumulative_count:1 upper_bound:25 exemplar:{label:{name:"trace_id" value:"25231f4fa8fdb12c7f1308190e9dcbb2"} label:{name:"span_id" value:"a51bbef0da7c1fea"} value:13.246984 timestamp:{seconds:1719051744 nanos:618783042}}} bucket:{cumulative_count:2 upper_bound:50 exemplar:{label:{name:"trace_id" value:"3de8cd6f2bd90db1689dffe272b73165"} label:{name:"span_id" value:"66279ab0124f44a2"} value:42.570813 timestamp:{seconds:1719051741 nanos:21539282}}} bucket:{cumulative_count:2 upper_bound:75} bucket:{cumulative_count:2 upper_bound:100} bucket:{cumulative_count:2 upper_bound:250} bucket:{cumulative_count:2 upper_bound:500} bucket:{cumulative_count:2 upper_bound:750} bucket:{cumulative_count:2 upper_bound:1000} bucket:{cumulative_count:2 upper_bound:2500} bucket:{cumulative_count:2 upper_bound:5000} bucket:{cumulative_count:2 upper_bound:7500} bucket:{cumulative_count:2 upper_bound:10000}} has help "The duration of the inbound HTTP request" but should have "measures the duration of the inbound HTTP request"
[2024-06-22T10:22:31.344598][CAT-API][OTHER] otel_collector-1     | * collected metric http_server_duration label:{name:"http_method" value:"POST"} label:{name:"http_route" value:"/api/cats/pairs"} label:{name:"http_scheme" value:"http"} label:{name:"http_status_code" value:"200"} label:{name:"job" value:"cat-api"} label:{name:"net_host_name" value:"localhost"} label:{name:"net_host_port" value:"8080"} label:{name:"net_protocol_name" value:"http"} label:{name:"net_protocol_version" value:"1.1"} histogram:{sample_count:3 sample_sum:2327.760598 bucket:{cumulative_count:0 upper_bound:0} bucket:{cumulative_count:0 upper_bound:5} bucket:{cumulative_count:0 upper_bound:10} bucket:{cumulative_count:0 upper_bound:25} bucket:{cumulative_count:0 upper_bound:50} bucket:{cumulative_count:0 upper_bound:75} bucket:{cumulative_count:0 upper_bound:100} bucket:{cumulative_count:0 upper_bound:250} bucket:{cumulative_count:0 upper_bound:500} bucket:{cumulative_count:2 upper_bound:750 exemplar:{label:{name:"trace_id" value:"7641e3fe506681b7d320844ccfe54fe2"} label:{name:"span_id" value:"99c02bf0afa3bb80"} value:596.739249 timestamp:{seconds:1719051713 nanos:995658604}}} bucket:{cumulative_count:2 upper_bound:1000} bucket:{cumulative_count:3 upper_bound:2500} bucket:{cumulative_count:3 upper_bound:5000} bucket:{cumulative_count:3 upper_bound:7500} bucket:{cumulative_count:3 upper_bound:10000}} has help "The duration of the inbound HTTP request" but should have "measures the duration of the inbound HTTP request"
[2024-06-22T10:22:31.347531][CAT-API][OTHER] otel_collector-1     | * collected metric http_server_duration label:{name:"http_method" value:"GET"} label:{name:"http_route" value:"/v3/api-docs/swagger-config"} label:{name:"http_scheme" value:"http"} label:{name:"http_status_code" value:"200"} label:{name:"job" value:"cat-api"} label:{name:"net_host_name" value:"localhost"} label:{name:"net_host_port" value:"8080"} label:{name:"net_protocol_name" value:"http"} label:{name:"net_protocol_version" value:"1.1"} histogram:{sample_count:1 sample_sum:27.564365 bucket:{cumulative_count:0 upper_bound:0} bucket:{cumulative_count:0 upper_bound:5} bucket:{cumulative_count:0 upper_bound:10} bucket:{cumulative_count:0 upper_bound:25} bucket:{cumulative_count:1 upper_bound:50} bucket:{cumulative_count:1 upper_bound:75} bucket:{cumulative_count:1 upper_bound:100} bucket:{cumulative_count:1 upper_bound:250} bucket:{cumulative_count:1 upper_bound:500} bucket:{cumulative_count:1 upper_bound:750} bucket:{cumulative_count:1 upper_bound:1000} bucket:{cumulative_count:1 upper_bound:2500} bucket:{cumulative_count:1 upper_bound:5000} bucket:{cumulative_count:1 upper_bound:7500} bucket:{cumulative_count:1 upper_bound:10000}} has help "The duration of the inbound HTTP request" but should have "measures the duration of the inbound HTTP request"
[2024-06-22T10:22:31.348042][CAT-API][OTHER] otel_collector-1     | * collected metric http_server_duration label:{name:"http_method" value:"GET"} label:{name:"http_route" value:"/swagger-ui*/**"} label:{name:"http_scheme" value:"http"} label:{name:"http_status_code" value:"304"} label:{name:"job" value:"cat-api"} label:{name:"net_host_name" value:"localhost"} label:{name:"net_host_port" value:"8080"} label:{name:"net_protocol_name" value:"http"} label:{name:"net_protocol_version" value:"1.1"} histogram:{sample_count:1 sample_sum:106.938676 bucket:{cumulative_count:0 upper_bound:0} bucket:{cumulative_count:0 upper_bound:5} bucket:{cumulative_count:0 upper_bound:10} bucket:{cumulative_count:0 upper_bound:25} bucket:{cumulative_count:0 upper_bound:50} bucket:{cumulative_count:0 upper_bound:75} bucket:{cumulative_count:0 upper_bound:100} bucket:{cumulative_count:1 upper_bound:250} bucket:{cumulative_count:1 upper_bound:500} bucket:{cumulative_count:1 upper_bound:750} bucket:{cumulative_count:1 upper_bound:1000} bucket:{cumulative_count:1 upper_bound:2500} bucket:{cumulative_count:1 upper_bound:5000} bucket:{cumulative_count:1 upper_bound:7500} bucket:{cumulative_count:1 upper_bound:10000}} has help "The duration of the inbound HTTP request" but should have "measures the duration of the inbound HTTP request"
[2024-06-22T10:22:42.129650][CAT-API][ERROR] cat-api              | {"@timestamp":"2024-06-22T10:22:42.128061173Z","@version":"1","message":"Failed to suggest cat","logger_name":"org.jetbrains.service.CatService","thread_name":"http-nio-8080-exec-3","level":"ERROR","level_value":40000,"stack_trace":"feign.FeignException$InternalServerError: [500 Internal Server Error] during [POST] to [http://cat-recommender-api:8080/api/recommend] [RandomCoffeeApiClient#suggestCat(SuggestCatForRandomCoffeeRequest)]: [{\"detail\":\"Oops, bad number\"}]\n\tat feign.FeignException.serverErrorStatus(FeignException.java:259)\n\tat feign.FeignException.errorStatus(FeignException.java:206)\n\tat feign.FeignException.errorStatus(FeignException.java:194)\n\tat feign.FeignException.errorStatus(FeignException.java:171)\n\tat feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)\n\tat feign.ResponseHandler.decodeError(ResponseHandler.java:136)\n\tat feign.ResponseHandler.handleResponse(ResponseHandler.java:70)\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:114)\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:70)\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:96)\n\tat jdk.proxy3/jdk.proxy3.$Proxy155.suggestCat(Unknown Source)\n\tat jdk.internal.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n\tat jdk.proxy3/jdk.proxy3.$Proxy156.suggestCat(Unknown Source)\n\tat org.jetbrains.service.CatService.suggestCat(CatService.kt:60)\n\tat org.jetbrains.service.CatService.generatePairs(CatService.kt:39)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n\tat org.jetbrains.service.CatService$$SpringCGLIB$$0.generatePairs(<generated>)\n\tat org.jetbrains.api.CatController.generatePairs(CatController.kt:104)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\n\tat org.jetbrains.api.CatController$$SpringCGLIB$$0.generatePairs(<generated>)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:76)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Unknown Source)\n","trace_id":"49ad17ae388d05d155515042056cb111","trace_flags":"01","span_id":"946fd57b6cb3008c","instance":"cd044a6df039"}
